# An Object-Oriented Approach to Role-Playing Game Battle Systems #

- Author: Evan Hildreth
- Advisor: Wendy P.
- Mentor: Lee W.
- Date: November 24, 2003

## Abstract ##

Video games are undeniably a part of today’s society.  One of the major genres of video games is role-playing games, or RPGs.  They, like all games, are made by teams of people each working on different portions.  One portion of RPGs is the battle system.  This portion simulates different characters in the video game fighting against each other.  To gain more insight into the video game development process, this thesis will document the programming of a new battle system through analysis of the battle systems of several different RPGs from different perspectives.  This thesis will then use the analysis to choose the best features for my battle system and attempt to implement those features.

The final battle system implements many features from the examined games. These features include learning new abilities through a job class and the ability to summon monsters.  The created battle system did not attempt to incorporate graphics.

## Chapter 1: Introduction ##

Video games are an undeniable part of today’s culture.  When someone wants to buy a video game, he or she may buy a copy of Final Fantasy X, one of the latest in a popular series of role-playing games, or RPG’s.  RPG’s are made by teams of people, each working on their own particular part.  One portion essential to the game is the battle system which is responsible for simulating a fight between two or more characters.  How is this part of the game made?  I will answer this question by programming my own battle system that will combine the best features from a sample of RPG’s.

I will prove that object-oriented programming methods can be used to build an RPG battle system by programming a battle system that is as easy as possible for the end user and as organized as possible for the programmer, myself, and any future programmers.  The system should also be easy to modify and improve.  To accomplish this, I will play a sample of popular RPG’s and take note of their key features.  I will then attempt to emulate the best of these features in my own system.

This thesis will answer the following questions: “What is involved in programming a video game or software project?”  “What are the different parts of a video game?”  “What does the battle system do?”

As video games become more prevalent in society, more people will have the desire to make their own games.  With this thesis, I plan to find out how easy or difficult it is for someone with a relatively basic knowledge of programming to make a video game.

## Chapter 2: Review of Literature ##

### Introduction ###

As the saying goes, all work and no play makes Jack a dull boy.  In reality, the average person is not named Jack, but today he or she usually likes to spend some amount of time playing some kind of game.  A common medium for these games is the computer.  Whether it is a simple game of Solitaire or FreeCell or a complex strategy game like Civilization, computer games have made their way into today's society.  They are released for all types of computers, from personal desktop computers to special video game consoles that serve no other function than to play video games.  Today's video games have changed much from the first few images in the 1970s, and they have become interwoven into today's culture.

### Computer Programming ###

A video game, just like any other computer application, must be programmed.  Some of the more common languages throughout history have been BASIC, Pascal, C, C++ (pronounced "C-plus-plus”), Objective-C, Java, and Perl.  Of these, BASIC and Pascal are the earliest.  BASIC, which stands for Beginners All-Purpose Symbolic Instruction Code, was developed in the 1960s as a simple alternative to FORTRAN, another early language (Logsdon I-10, I-11).

Pascal was developed in 1971.  It was named after the French mathematician Blaise Pascal, and it was one of the first highly structured languages.  This means that all programs written in Pascal must follow a certain structural pattern.  While it may not be as easy to learn at first, it does allow different programmers to read each other's code with relative simplicity.  This differs from BASIC, where the code structure can vary drastically from programmer to programmer (Logsdon I-12).

The C language and derivatives of it are very common today.  It was developed at AT&T in 1972, and it is designed to be human-readable, easy to maintain, and portable across different platforms.  This means that code written on one computer can be made to work on another computer with few changes.  Special features of C include the ability to save code to a library usable by other programs, a relatively small number of keywords to remember, and the ability to control computer hardware.  Most of today's popular languages, including C++, Java, and Perl, have code structure similar to C, a structure in turn based on Pascal.  A common standard for the language was made in 1989 by the American National Standards Institute, or ANSI.  This standard ensured compatibility and also generated a standard library for all developers to use (Zhang 4-7).

Pascal and C are considered structured languages because all code is written and executed in the space of three control structures: sequence, selection, and repetition.  The sequence control structure simply calls for every line of code to be executed in order unless another control structure says otherwise (Deitel and Deitel 58).  The selection structure is also known as the decision step of a program.  This step involves comparing two items to decide which direction the program should go (60-61).  The last structure, repetition, allows a program to repeat a block of code multiple times until a condition is met (66).

Many modern languages, such as C++, Objective-C, and Java, use a principal called object-oriented programming, or OOP.  It is actually not a new idea, since the first two object-oriented languages, SIMULA I and SIMULA 67, were developed between 1962 and 1967.    OOP groups different parts of a program into objects.  Each object contains data and methods for working with that data, allowing the programmer to use programmed objects to represent real-world entities.  This brings the focus of the programming onto the relationships between different objects.  It also allows a programmer to make a change to one part of a program while minimally affecting other parts of the program (Davidson 44).

C++ was developed in the early 1980s and is based on the C and Simula languages.    Unlike C, however, C++ allows a programmer to use object-oriented programming.  An ANSI standard was developed in 1998, and this also included a standard library, called the Standard Template Library, or STL (Hubbard iii).  A key feature of C++ is its ability to use classes and templates.  A class allows a programmer to easily create and manipulate abstract objects in a program.  Each class has attributes and behaviors.  One of the benefits of using classes is the ability to “hide” a class’ attributes, or data, from other parts of the program.  The program must then use the class’ behaviors, or methods, to access and change the data.  This allows the programmer to prevent corrupt data from entering the class as well as changing the data and methods without serious modifications to the remainder of the program (Deitel and Deitel 369-371).  Templates allow a programmer to specify a block of code that can be used on any class or data type, allowing nearly infinite uses for the code (648).

Another attempt to bring object-oriented programming to the C language was seen in Brad Cox’s Objective-C language.  It is based on the ANSI standard of C and adds extra syntax that allows object-oriented programming.  Objective-C is designed to be a dynamic language, allowing the programmer to leave many decisions to be made when the program is run, not when it is built.   Also, when built using the latest program, Objective-C code can contain snippets of C or C++ code within the same file (Davidson 10).

Sun Microsystems released Java in 1995.  It was called Oak at first and was developed by Sun as an alternative to C and C++ for use on Sun's computers.  The name Java was not chosen because of an acronym but because it sounded "hot."  Java was built to cater to the internet crowd, and its implementation into Netscape Navigator, then the most popular web browser, helped this initiative immensely.  Java's most common use is small programs called "applets" that are built into web pages.  It is designed to be simpler than C++ yet still be object-oriented and to run exactly the same way on every platform (King 16-19).

One of Perl's many mottoes is "There's more than one way to do it."  The basic idea behind Perl is a language that is similar to C and more powerful than standard UNIX scripting languages (such as awk).  It was originally developed by Larry Wall who made it, according to legend, to complete a task for which C was too complicated and awk was not advanced enough.  The "official" acronym for Perl is Practical Extraction and Report Language.  Perl is a simple language for beginners because the only tools needed to program are a text editor and a standard Perl interpreter.  The interpreter is freely available for nearly every platform, including Windows, Macintosh, and UNIX, and maintained by a small group of volunteer programmers.  The language itself is structured similarly to C, so programming knowledge in Perl can be translated to C++ or Java without much effort (Lemay 8-13).

Most programs, once typed in a language, must be translated into a format that the computer can use.  The original language, usually called a high-level language, is translated, or compiled, into machine language (Gonzalez 7).  Many compilers, particularly C++ compilers, will take this machine code, or object code, and link it with other portions of object code to make a final executable program that the user can run (Deitel and Deitel 13).  This feature allows many languages, particularly C-based languages, to retain some degree of portability: a program can be written once on one machine and translated with one compiler for that machine, then transferred to another computer  (or platform) and translated with another compiler for that machine (Zhang 5).

### The Personality of Programming ###

Being a computer game developer is not easy.  A game must be error-free software, be able to run on multiple machines without problems, and be fun to play.  If it is not one of these, gamers will log onto the internet and complain.  "So," asks Kathleen Maher, "why do game developers love their work so much?"  Her answer is simple: developers love the games as much as the players that play them.  This allows them to put up with extreme schedules and sometimes lower pay.  It also helps to work for the right company.  When talking about Ensemble Studios, the developer that makes the popular Age of Empires strategy game series, Dave Pottinger explains that the company examines not only a person's qualifications but also how they are as a person.  In other words, they look for whether or not this person will fit into their "family."  While this makes the company hard to get into, it yields "a company that functions as an extended family for its employees” (Maher).

Larry Wall, the inventor of Perl, talked about the relationships in a programming community.  In his essay, he says, "Three great virtues of programming are laziness, impatience, and hubris."  But, in keeping with the spirit of "There's more than one way to do it," he continues to say that Perl programmers and software developers as a community also need to embrace "diligence, patience, and humility" (127).  He explains this by describing the programmer's characteristics of laziness, impatience, and hubris as virtues of passion and individualism.  However, a community, even a community of programmers, needs diligence, patience, and humility (146).

In another example of “There’s more than one way to do it,” game developers can take different approaches to programming.  Ensemble Studios decided to make the engine for Age of Empires specifically for that game, rather than making a more general engine that could be used in any number of games.  This allowed them to make the game engine itself contribute to the AI, or artificial intelligence, of the game.  The AI allows a single player to play against a computer controlled player that has a skill level similar to a human player.  Since the AI already "knows" the rules of the game itself from the engine, the developers were able to concentrate on developing a set of rules to help the AI make strategic decisions.  A set of concrete directions telling the computer what to do in every single situation would be impractical and slow; therefore, the developers decided to give the AI certain rules to evaluate the situation and make the best decision (Maher).

### Video Games ###

According to Chris Crawford, "a game is a closed, formal system that subjectively represents a subset of reality."  A computer, or video game is therefore a closed, formal system generated by a computer (3-4).  A following question may be, "Why do people play games?" Crawford's answer has several facets.  Some play games to escape to a fantasy world that is interactive, as opposed to reading a book.  A different, or perhaps similar reason, is the desire to break rules.  In a game, one can engage in conduct that would be deemed criminal in real life.  However, in the controlled reality of the game, it is perfectly acceptable (13-15).

The immense popularity of video games has caused them to be placed under a piercing microscope by parents and educators.  Many voice concerns that violence in video games can be harmful to children.  In a 1993 study of 357 seventh and eighth grade students, 32% preferred games with fantasy violent themes, and 17% preferred games with human violence.  Research has brought up the conclusion that increased television and video game violence can lead to an increase in aggression, at least in the short term.  While some may argue that games can become social, a 1992 study found that all of the top ten Nintendo games were single-player only.  In terms of gender roles and stereotypes, none of Nintendo's top 47 games in 1992 featured women in a dominant pose, and thirteen of them featured women that had to be rescued.  However, research also shows that limiting, not eliminating video games and the use of them is the best solution to possible problems (Cesarone).

The most popular video games today are on dedicated consoles.  These are small, single-function computers that display to a television set and do nothing other than play video games.  The exception to this rule may be Sony's PlayStation2, which has the ability to play audio CDs and video DVDs in addition to video games (Wessel 13).  The original PlayStation (now called PS One) was first announced in 1991.  At this time, Nintendo was the most popular video game producer, and Sony was hardly expected to be able to compete.  Since Sony's reputation was in manufacturing home audio and video equipment, not computers and software, the PlayStation was a new field for Sony.  The PlayStation was also set to be one of the first consoles to carry a chip to enhance the display of three-dimensional graphics.  With an extremely powerful console, Sony solicited support from close to 250 software developers, and when the console was finally released, 300,000 PlayStations were sold in the first month alone (9-10).

One of the most popular genres of games on the PlayStation is the Role Playing Game, or RPG.  According to one definition, "RPGs are games in which the player creates a character that lives and breathes in the game, and as the game progresses, the character's attributes... change with experience" (Wessel 59).  Most RPGs have a standard epic story where a few characters must fight a huge, evil enemy to save the world.  Stories can be quite long; in fact, Final Fantasy VII contained a story that took a total of three CD-ROMs to hold (59, 115).  Its successor Final Fantasy VIII had a budget of over thirty million dollars (60).  The portion of these RPGs responsible for simulating fights between characters is known as the battle system.  Because it plays such an important part of the game experience, if the system is unsatisfactory, the entire game will suffer (“Battle”).  

One of the first role-playing games was Dungeons and Dragons, a game based around a human referee, or dungeon master, and a set of dice instead of a computer.  To play, players tell the dungeon master actions for their characters to perform, and the dungeon master rolls dice to determine the outcome of the action (Walnum 342).  The first attempt to produce a game like Dungeons and Dragons for a computer was Temple of Apshai (Crawford 33).

Modern role-playing games combine elements from a Dungeons and Dragons-type game with adventure games, forming a genre once known as fantasy role-playing games and the predecessor to today’s RPG genre (Crawford 34).  An adventure game has a heavy emphasis on strategy.  The basic premise is a character trying to accomplish a goal.  To do this, the player must guide the character through a world and make decisions for the character, usually involving collecting treasure or solving puzzles.  An action in one area of the game could cause a significant change in a different part of the game (31-32).

### Different Aspects of Video Game Development ###

On every game project, there are design, artistic, programming, and testing teams.  The design team's job is to develop the overall gaming experience.  The lead designer, often the one to come up with the original concept, oversees nearly every area of development, including areas covered by the other three teams.  Designers not only have to be able to work with people and understand what they are capable of, they must be able to incorporate ideas from several different people into a single product.  This usually means taking courses in Computer Science to understand the programmers' jobs more clearly and to understand what can be reasonably expected of them.  And, as with any career, experience counts.  In fact, nearly every designer started off on an artistic, programming, or testing team (Crosby).

Game design starts with a simple concept: the game must be fun.  As Clayton Walnum says, “A boring game will almost certainly get filed away in a closet to gather dust.”  A number of factors contribute to a game’s playability, such as its concept, world, rules, graphics, and sound.  All of these factors must work together.  The concept can be an offshoot of a real-world situation, such as the war battle concept behind the classic game of chess.  The game should have a reasonable world to operate in, anywhere from a narrow space with falling blocks such as in the puzzle game Tetris, or filled with scenery, trees, and other characters such as in the adventure series Ultima.  Graphics should provide a clean interface and a visually pleasing experience for the player.  The game’s rules must be easy to understand quickly, or the player will simply give up in frustration.  If the game plays light, upbeat music in the background, it will not mix well with a dark, skeleton-infested, haunted mansion (12-13).

An artist’s job is to draw the graphics for the video game.  While two-dimensional games are not obsolete, most games now have three-dimensional graphics.  A character artist in a three-dimensional game draws the character on paper first, then attempts to model it in the computer.  At first, "the character looks like a figure made of chicken wire.  Then, the artist covers the character's mesh with a virtual skin and adds color."  The character can now be animated, either by the animator himself, or by turning control over to the game player.  In order to make the animation look realistic, motion capture, or the reading of an actor's movements directly into a computer, are often used, especially in sports games.  A background artist's job is to make the world that the game takes place in.  In a three-dimensional game, this involves making an environment using the same modeling software used by character artists.  In a two-dimensional game, a drawing is simply scanned into a computer and colored (Crosby).

Sound designers are in charge of background music and sound effects.  Background music must be simple, since the composer does not know for sure what will be happening as the music is being played or how many times the song will loop.  For this reason, the composers may choose to focus on conveying a certain mood through the music.  Sound effects are essential to the experience of the video game.  Designers may choose from effects on file or record their own.   They may also distort the pitch or echo to add a different feel to the effect.  A degree in music theory helps when looking for a job (Crosby).

A game programmer's job is to make the program that ties all the elements together.  There are many different elements that may need to be programmed, such as an engine to run the majority of the game play, an artificial intelligence to control characters the player does not, and ways for graphics and sound to be displayed and played.  Usually programmers specialize in one of these areas and work on that particular section of the game.  All programmers work under a master or lead programmer.  The objective of the programming team is to make code that can produce the best game experience in the most efficient way possible.  This may include small programs that prevent objects or characters from walking through each other, or the programmer may work with the artist to prevent unnecessary detail in the characters.  Other programmers program tools for use by other programmers such as a converter for artwork and sounds.  Aspiring programmers should learn C and C++ (Crosby).

Once the programmers are finished, the game is sent to testers.  Their job is to play the game as much as possible to find possible glitches in it.  Glitches can include characters able to walk through walls, a sound that will not play, or a level that loads improperly.  While many people may enjoy the idea of playing video games for a living, all is not fun and games.  Testers must write detailed reports of what the problem is or what their suggestions are.  This helps the programmers and designers fix the problem.  They also have to conduct an organized search for possible bugs.  As game tester Don Ramakers says, "I love playing games.  But when I'm going through the same level for the 20th time, it starts to feel like a job" (Crosby).

To allow a player to play against the computer, the computer must present a degree of intelligence that can allow it to simulate a real human opponent.  This desire to have a computer behave similar to a human is one of the reasons for the artificial intelligence (AI) field of study.  The task of planning, including planning moves in a video game, is sometimes referred to as a “mundane task.”  Other mundane tasks include vision, or interpreting images, robotics, or natural movement, and communication through language.  It seems almost ironic that these mundane tasks are harder to implement than supposedly complex tasks such as diagnosing diseases and playing chess.  In order to complete tasks, the intelligence must have knowledge relevant to the task and be able to infer new knowledge from that.  Finally, the intelligence should be able to choose the best method out of a list of possibilities.  Simply trying every single possibility is inefficient (Cawsey 1-4).

An artificial intelligence for a video game should be both reasonable and unpredictable to be a worthy opponent.  An AI should not make elementary mistakes such as attacking its own teammates or placing itself in a compromising position.  This is best accomplished by writing a general method that eliminates most of these mistakes.  The AI should also be somewhat unpredictable, discouraging the human player from recognizing obvious patterns (Crawford 78-79).

### Conclusion ###

Video games have become interwoven into today’s culture.  Many people devote large amounts of time to playing video games, and these people can become picky about the content of the games they play.  For this reason, video game developers spend vast amount of time, money, and effort making sure that each portion of the game is perfect.  Programmers must be fluent in their chosen language in order to achieve the maximum efficiency in the game.  The game’s artificial intelligence should closely resemble the reasoning of a human player.  If everything works correctly, the end result is a product that temporarily transports its player into a reality where the only rules are the rules of the game.

## Chapter 3: Methodology ##

### Research Method ###

For my thesis methodology, I will play a sample of video games, taking notes on specific features of their respective battle systems.  I will then select the features for my battle system based on those notes.

I will choose the sample of games based on what my friends recommend and the features in the game’s battle system.  I will ask a number of my friends who play role-playing games their opinions on the best games and what features are in the games’ battle systems.  Games will then be chosen based on the uniqueness of their features and the quality of game play.  If time allows, I plan to play the game for a short time to find out if it is worth reviewing for my methodology.  Currently, the games to be played are Lunar Legend, Chrono Trigger, Final Fantasy Tactics, Final Fantasy VII, and Final Fantasy VIII.

For note taking, I will list several categories related to battle systems and evaluate them in detail.  Each system will be given a numerical value from one to five in each category, where a five is a superb rating and a one is unsatisfactory.  The numerical rating will be combined with qualitative observations to produce a detailed analysis of the battle system.  The categories are character creation and improvement, weapon equipping, standard attacks, special attacks, and status changes.

Notes will be taken in a test-retest format.  In the game, I will enter a battle and finish it, paying close attention to whichever category I am viewing at the time.  After the battle I will write several quick notes to remind myself of my impressions.  I will repeat this process three times for each category, after which I will compile the quick notes into a formal conclusion with a numerical rating for each category.  In addition, I will observe my brother, whenever possible, playing the same game to gain a more objective observation of the battle system.  I will also refer to the owners manual included with the game to learn what simple observation can not show me.

After playing the games, I will compile the notes into a master list of features containing the best features of each of the games.  I will then cross off features that are either too complicated to implement before the deadline or simply undesirable.  This will result in a relatively short list of features that I will then attempt to incorporate into the final product for my thesis.

### Required Equipment ###

Lunar Legend is available for several platforms.  I will be playing the version released for the Game Boy Advance.

Chrono Trigger is available in several formats.  The game was originally released for the Super Nintendo.  For this methodology, I will be playing the version released for the PlayStation (PS One) system borrowed from a friend.

The games Final Fantasy Tactics, Final Fantasy VII and Final Fantasy VIII will be played on a PS One console.  Final Fantasy VII and Final Fantasy Tactics were purchased new.  Final Fantasy VIII was purchased used from a gaming store.

## Chapter 4: Presentation of Findings ##

### Game Analysis ###

#### Lunar Legend ####

Lunar Legend is the simplest game, both in terms of graphics and the battle system's complexity.  None of the features are particularly outstanding, but the simplicity makes the game very easy to understand and pick up.

Character improvement is very straightforward.  Every character has six statistics which determine their performance in battle: attack, defense, agility, mental power, magic resistance, luck, and number of attacks per turn.  When a character survives a battle, it receives experience points, called EXP.  When the character gains a specified number of EXP, the character's level will increase by one.  This causes all of their statistics except luck and number of attacks to be increased by a small amount, as well as their maximum amount of health and magic points.  At certain levels, the character may learn new special attacks or have their number of attacks per turn increase.  The amount of EXP needed to advance to the next level increases with each level.  In addition, characters can also equip weapons to give many statistics a quick boost.

Weapons can be equipped to both a character's hands, one for a shield and one for a sword or other destructive weapon, its body, and a character may also equip two articles of jewelry.  Equipment on a character's head or arms usually increases their attack and defense powers, while jewelry often improves other statistics.  Unlike increases from gaining EXP, a character's statistics improve greatly when equipping weapons, sometimes doubling the character's abilities.

Standard attacks simply have the character attack another enemy with whatever weapon is equipped.  If the character is advanced enough, it may attack more than once per turn.  Occasionally a character will perform a two- or three-hit attack that does more damage than usual.  It appears that some standard attacks include a chance of inflicting a status change, but these attacks were never performed by members of the player's party.  A character hit by an attack loses health points; the amount of damage received is less if the character has a high defense power.  Likewise, the damage the character inflicts corresponds to the character's attack power.  Attacks also have a chance of missing the target.  It is assumed that the chance of an attack missing corresponds to the attacking and defending characters' agility ratings.

Special attacks are slightly more powerful attacks the player has an option of using.  Every time a special attack is used, the character loses magic points.  When a character does not have enough magic points to perform a special attack, that move becomes unavailable until the character replenishes its magic points.  They often have added bonuses, such as attacking multiple enemies in one shot or inflicting a status change.  Many offer healing abilities instead of destructive powers, allowing other party members to replenish their health points without using items.  The more powerful or useful an attack is, the more magic points it uses.

In addition to these, the key characters of the game have an "Arts Gage Skill" which allows them to perform an attack specific to each character after performing their standard attack a set number of times.  Equipping various weapons can improve the character's skill.  Although performing the skill does not use magic points, it does reset the counter.  The counter is also reset whenever a character loses all of its health points.

Status changes are caused by certain attacks, both standard and special.  Changes in status significantly impair a character's ability to fight and require the player to be aware of more than the characters' health points.  Status changes range from the inability to perform special attacks to being poisoned, paralyzed, or petrified.  A confused character is beyond the player's control and will attack anyone within range, whether friend of foe.  A sleeping character cannot act and remains so until awakened by being attacked.  A poisoned character receives damage after every turn.  Paralyzed and petrified characters cannot move, and a character becomes fainted after losing all health points.  If a player's entire party is paralyzed, petrified, or fainted, the game is over.  In Lunar, all status effects disappear after a battle, although fainted characters are left with only one health point.

#### Chrono Trigger ####

Chrono Trigger is similar in graphics and playability to Lunar Legend.  However, to determine the order of the characters, it uses the Active Time Battle system which fills a time gauge based on the character's speed.  The faster the character, the quicker the gauge fills.  This helps allow combination attacks, this battle system's highlight.

Character improvement is almost identical to Lunar Legend.  After battles, characters receive EXP and Tech Points.  When a character gains enough EXP, the character's level increases along with his or her statistics.  Weapons can also be equipped for quick boosts in power.  The character can equip a weapon for attack power, a helmet and armor for defense power, and one accessory that improves another statistic or provides a useful ability.  Tech points are used to learn new tech and magic attacks.  Tech attacks can be used immediately, but magic attacks are unavailable until the player reaches a certain point in the game.

A character's standard attack simply attacks the selected enemy.  If a character has to move far to attack, it may affect the damage caused by the attack.  Special attacks are in the form of tech skills, magic skills, and combos.  Tech and magic skills provide more powerful attacks that are unique to the character at the cost of MP.  The more powerful the attack, the more MP it will use.  Combo attacks are available when two or more characters are able to use combos, have full time gauges, and have enough MP to perform the action.  The combo attack uses skills from these characters to launch a much more powerful attack against a rank of enemies.  The combo attack counts as the attack for these characters, and the time gauges are reset.

Status changes are caused by enemy attacks, although it may be possible to inflict changes on enemies as well.  All status changes vanish when the battle is completed, but characters with no HP must be revived with a Revive item.  Status abnormalities include slow, which slows a character's time gauge, stop, which stops a character altogether, chaos, which is similar to Lunar's confusion, and lock, which prevents use of tech and magic skills.

#### Final Fantasy Tactics ####

Final Fantasy Tactics is an extremely involved game, both in its battle system and story line.  It offers the most unique battle experience out of any of the games reviewed.  In this game, players are required to move characters around a virtual battlefield.  Unlike the other games, the characters in this game must move to their opponent or teammate to attack or heal that character.

Character customization centers around the job system.  All characters start out as a Squire.  After gaining EXP and Job Points, both of which are given out as soon as a character performs an action, the player can change the character's job to a more specific job, such as a Priest, which specializes in curative magic, a Thief, or a Knight, which has skill with a sword.  After becoming skilled at a basic job, the character can develop into a more specialized job, such as a Dancer, a Mediator, or a Samurai.  The character's statistics can be improved through equipping weapons or by gaining EXP.

New abilities are learned by redeeming Job Points, or JP.  A character earns JP whenever the character performs an action, and the job points earned are only for the character's current job and few other related jobs.  The player can have the character redeem a certain number of JP in order to learn a particular ability.  Once the ability is learned, the character knows that ability and can equip it even if the character changes jobs.  For example, a character could become a Priest long enough to learn a simple cure spell, then change jobs and become a Samurai while still knowing the cure spell.

Equipment is straightforward.  Like Lunar Legend, a character can equip weapons to gain a quick increase in power.  A character can equip weapons to his or her left and right hands, head, body, and one accessory.  Some weapons, such as bows, require both hands.  The accessory could be a pair of boots to allow a character to move freely over a certain terrain.  In addition to weapons, a character can equip abilities learned through the job system.  There are two action abilities, and one reaction, support, and move ability each.  Action abilities are often special attacks, and reaction abilities are triggered when the character is attacked.  Support abilities improve other abilities or statistics, and move abilities determine the distance the character can move on the battlefield.

On a character's turn, the character may move once and act once.  The character may move as far as the character's range allows; the range can be modified by abilities and equipment.  An action is performing a standard attack, special attack, or using an item.  Doing any of these will earn the character EXP and JP.  If a character does not move and act on the same turn, the character's next turn will come more quickly.

A standard attack largely depends on the character's job.  Most jobs have their characters attack with the equipped weapon anyone to the character's immediate front, back, left, or right of the character.  Certain abilities or weapons can modify these rules, allowing a character to attack with two weapons instead of just one or using a long spear or rod to attack anyone within two spaces instead of just one.  An archer's standard attack simply fires an arrow at anyone within range.  If a character attacks from the side or the back, the attack has a greater chance of hitting as well as increased damage.

Special attacks are learned through the job system.  A character can equip two types of abilities at once, such as White Magic, Sword Magic, Steal, or Item.  Generally, the attacks have a much greater range than standard attacks, and the attack itself affects characters over a small area.  For example, an attack could target a character five squares away and affect both that character and the one standing next to it.  Some special attacks drain the user of magic points, or MP.  Others require the character to "charge" the attack or wait for a set period of time before the attack is carried out.  Some attacks require both MP and a charge time, while many others require neither.

Status changes are generally inflicted through magic attacks.  Other special attacks that inflict damage also have a small chance of inflicting a status change.  Most status changes come from Yin-Yang Magic attacks from the Oracle job.  These changes can include Blind, which decreases accuracy, Zombie, which reverses the effect of curative items, and Berserk, which is similar to confusion from Lunar Legend.

Characters that lose all of their HP are knocked out.  However, if the character is not revived within a set number of turns, that character is lost from the game permanently.  If the battle is over before the character's time is up, it is automatically revived.  After the battle, all characters are fully healed and all status changes are removed.  This is probably due to the extreme length some battles can take, with few characters ever coming out unscathed.

#### Final Fantasy VII ####

This game was the first Final Fantasy title to appear on the PlayStation.  It uses the time gauges from the Active Time Battle system and offers an experience that is similar to older games yet with small differences.

Character improvement offers few differences.  Characters gain EXP to build their levels and equip weapons for quick statistic increases.  Characters also earn ability points, or AP, after every battle.  These AP are used to learn new "limit break" special attacks.  Characters also equip Materia to their weapons and armor that provide new abilities or boosted statistics.  Different combinations of Materia can result in different abilities or statistics.  Materia also use AP to improve their abilities.

Characters can equip one weapon for attack power, one arm band for defense power, and one accessory.  Weapons are specific to one character; a sword used by one character can't be used by another.  Each weapon and arm band has a certain number of Materia slots which can be filled with different Materia.  Magic Materia teach new magic attacks, but often at a cost to the character's statistics.  Other Materia can increase statistics, and the proper combination can balance each other out.

A character's standard attack simply attacks with the equipped weapon.  However, the right combination of Materia and the right weapon can inflict elemental damage or a status change on the attacked opponent.  There are two rows for a character to stand in when in battle: the front and back rows.  The back row provides a better defense, while the front row provides a better attack.  The farther a character has to move to perform his or her attack, the less damage it will inflict.  Distance does not matter for special attacks or for projectile-based attacks, such as guns.

The most common special attack is a magic attack learned from Materia.  These often start simple, and as the Materia earns AP, the attack becomes more powerful.  Performing the attack uses MP.  Each character also has his or her own set of "limit break" attacks.  Each time a character is attacked by an enemy, the character's limit gauge fills.  When the gauge is full, the character can perform a limit break instead of a standard attack.  These limit breaks are often very powerful, and they use no MP.  When a character earns enough AP, the character can increase the level of his or her limit break.  However, the higher the level, the slower the limit gauge will fill.

Status changes are generally inflicted through magic attacks.  They can also be equipped to a character's standard attack through weapons or a combination of Materia.  All status abnormalities are removed after battle except for Fury and Sadness.  Fury causes an increase in attack, a decrease in defense, and causes the character's limit gauge to fill more quickly.  Sadness is the exact opposite, causing a decrease in attack, increase in defense, and a slower limit gauge.  Characters with no HP must be revived using magic or special items.  One of the more humorous status changes is "Frog." Also available in Final Fantasy Tactics, this causes the character to be transformed into a small frog with lower statistics than the character's normal form.

#### Final Fantasy VIII ####

Final Fantasy VIII is radically different from the other games in several aspects.  Characters do not equip weapons, have no MP, and rely almost entirely on special characters known as Guardian Forces, or GFs, to improve their abilities.  This system, called the Junction system, is one of the most complicated yet powerful systems for improving character statistics.  It does pose a steep learning curve for beginners, however; twelve pages in the owner’s manual are used to describe the workings of the system.

Characters are improved through the Junction system to improve their statistics and learn new abilities.  This system allows different magic attacks to be drawn from enemies and linked to different statistics, provided the GF attached to the character knows the proper ability.  After completing a battle, both the characters and the GFs attached to them receive EXP.  The GF also receive AP, or ability points, based on the enemies defeated.  The amount of EXP required to advance to the next level is one thousand, no matter what the level.  The characters' statistics improve only slightly when the character levels up; much greater gains can be made through Junctioning.  The GF use AP to learn abilities.  When the number of AP required to learn an ability is earned, the ability becomes available for the character to junction.  The GF can then begin learning another ability.  In addition, the characters' weapons can be remodeled.

As mentioned, characters do not equip weapons.  Characters can gain an attack boost by remodeling their weapons, which involves collecting certain items and paying someone at a junk shop to do the job.  These remodeled weapons also teach new limit breaks to the character.  Characters also equip GFs to themselves, allowing them to take advantage of the GF's abilities as well as summon it into battle.  Finally, if the GF knows the proper ability, the character can equip, or Junction, certain magic attacks to their statistics and standard attacks.

With the proper GF abilities, a character can inflict status changes and elemental damage through only his or her standard attack.  A character can equip drawn magic to his or her status attack or defense or elemental attack or defense.  If more magic is junctioned to status attack or defense, there is a larger chance of inflicting a status change on an opponent and a smaller chance of an opponent inflicting one on you.  Likewise, with elemental attack or defense, more magic junctioned means a greater attack or defense power with that element.  Also, with elemental defense, if the magic junctioned reaches a certain threshold, the character will be healed by attacks of that element instead of hurt.

Characters have few special attacks of their own.  Most special attacks are in the form of magic attacks, which are drawn from enemies.  A character can stock up to one hundred of each magic attack.  If a character has an attack stocked, they can use that attack on an enemy or ally.  If a character uses attacks that are also junctioned, the statistic attached to that attack will go down.  On the other hand, if a character increases the stock of attacks, the statistic attached to that attack will go up, even in the middle of a battle.  Also, if a character's HP is low, they may be able to perform a "limit break" attack.  These powerful special attacks are unique to the character and largely depend on the weapon the character is carrying.

As mentioned, status changes can be inflicted by using appropriate magic or by equipping that magic to a character's status attack.  Unlike the other games reviewed, some status changes will persist beyond battle.  These statuses are poison, petrify, darkness, silence (the inability to use magic), and zombie.  Again, characters with no HP must be revived either through items or magic.

### Application ###

Here are the numerical scores for the individual games.  Each game was given a rating in each category on a scale of one to five.  These values should only be seen as a guideline and not entirely absolute.

|                       | Character Improvement | Equipping | Standard Attacks | Special Attacks | Status |
|-----------------------|-----------------------|-----------|------------------|-----------------|--------|
| Lunar Legend          | 4                     | 4         | 3                | 5               | 3      |
| Chrono Trigger        | 3                     | 3         | 3                | 5               | 3      |
| Final Fantasy Tactics | 5                     | 4         | 4                | 4               | 4      |
| Final Fantasy VII     | 3                     | 4         | 4                | 2               | 3      |
| Final Fantasy VIII    | 3                     | 4         | 5                | 2               | 4      |

Although it is important to know Final Fantasy Tactics had the highest score overall, it is as important to know which games scored the highest in each category.  The higher a game scores in a category, the more likely its features will make it into my battle system.

The character improvement category had two games that stood out.  Final Fantasy Tactics scored the highest in the category, so my battle system will employ an improvement system similar to Tactics’ job system.  However, Lunar Legend was second in line and used a much simpler method.  The final battle system will probably lean more toward Lunar for this reason, although there will probably be influences from Tactics.

Weapon equipping, on the other hand, was essentially the same for all games with the exception of Final Fantasy VII and VIII.  These games allowed the player to equip extra items in addition to traditional weapons.  Currently, I have no plans to introduce anything other than traditional weapons.

Final Fantasy VIII had the best standard attacks by far.  The ability to add elemental and status damage to a character’s normal attack was a wonderful feature.  However, it depended largely on the complex Junction system which I plan to avoid in my battle system.  I may still use Final Fantasy VIII’s ideas in my system.

Lunar Legend and Chrono Trigger’s use of special attacks are features I will emulate almost verbatim.  These games had special attacks specific to each character instead of the general list of magic from the Final Fantasy games.  This method is easier on both the programmer and the player and will be the method I use.

Status attacks were also essentially the same in all of the games.  My battle system will use a simple approach like Final Fantasy Tactics involving special attacks centered around inflicting a status change.

## Chapter 5: Conclusion ##

### Introduction ###

It is possible for someone with a relatively small knowledge of programming to program a role-playing game.  Compared to most other video games, RPGs are simple since they do not necessarily require the program to keep track of several characters and visual effects in real-time.  When I began programming, I was able to make a very simple battle system within two months of starting.  This system only allowed one character to attack one other.

However, although it may be possible, it is not easy to program an RPG.  All of the games in my methodology allowed teams of more than one character to attack each other.  Many offered unique features, such as moving around a battlefield or allowing two characters to combine their strength on one attack.  Some moved beyond a normal turn-based approach, adding an element of real-time to the battle.  All had graphics, a feature my program did not even attempt to implement, as well as an artificial intelligence for opposing characters, a feature I have only outlined for my system.

### Battle System Features ###

The final product, this battle system, incorporates a number of features from the games reviewed in this thesis as well as a few from other games and my own ideas.  Many of the features have not been implemented yet, but I have designed the system to allow most of these to be implemented later.

This is a turn-based battle system, which means that each character can perform one action on its turn.  The character with the highest speed goes first.  On a character’s turn, the artificial intelligence is prompted to determine the character’s actions for that turn.  At this point, the intelligence merely prompts the player for input and does no “thinking” of its own.

All characters have attack, defense, magic, speed, accuracy, and luck statistics as well as health and magic point levels.  These statistics (with the exception of luck) increase when the character gains enough experience points to level up.  Weapons can be equipped to provide increases in statistics; a character may equip one attack and one defense weapon in addition to three accessories.  The luck statistic has not yet been implemented.

The character’s attack and defense is also influenced by its element.  Certain attacks cause more damage against a certain element, and some attacks are weakened.  For example, a water attack is effective against a fire element since water puts out fire.  If a character performs an attack that is compatible with its element, it will gain a boost in its attack power.

Special attacks and new abilities are learned through the character’s class, similar to jobs in Final Fantasy Tactics.  When the character reaches a certain level, the class will “teach” the character a new attack or ability.  The special attacks learned through the class drain MP, can cause elemental damage, and possibly inflict status changes.  After a character learns at least two attacks, it can upgrade the level of its class and begin learning more powerful attacks.  Staying at a lower level, however, will allow the character to learn other, possibly more useful attacks at that level.

This system has an “adrenaline rush” feature similar to limit breaks from Final Fantasy VII and VIII.  When a character’s HP is one-fifth of its maximum HP, it enters its adrenaline rush.  This increases its statistics and decreases its defense, and it allows the character to perform a special, powerful attack not normally available to it.  The attack available depends on the level of the character’s class.  This rush is available to all characters, including enemies and summoned monsters.

Like all the Final Fantasy games, some characters in this game can summon extra-powerful creatures to assist them in battle.  The method used by this game is based on Final Fantasy VIII, although it mimics some elements of Final Fantasy X, a recently released game not reviewed for this thesis.  A character can only summon creatures that have previously been linked to that character, similar to Junctioning a GF in Final Fantasy VIII.  When a character summons a creature, it takes the place of that character in battle.  On the creature’s turn, it can either perform its attack or leave the battle.  Performing the attack uses the creature’s MP.  At the end of the turn, if the Summons is out of MP, it automatically leaves the battle.  When it leaves, it automatically regains all MP.  On the original character’s next turn, it is free to summon the creature again, provided the creature is still alive.

Experience points, or XP, are given out based on an attack’s damage.  When a character performs an attack, the amount of damage done is translated into XP and divided in half.  One half goes to the attacking character at that moment, similar to Final Fantasy Tactics.  This theoretically allows characters to level up, and possibly even learn new attacks, in the middle of a battle.  The other half is stored by the character’s team.  When the battle is completed, the team gives the stored XP to all surviving characters and all summoned creatures Junctioned to a surviving character.

A feature I am still working on is fusion.  This is similar to a feature in Final Fantasy Tactics where a character can ride on top of a giant bird and gain an increased movement range.  My battle system would take this one step further, allowing the character and its mount to have increased statistics as well as access to attacks from both character and monster.  However, this feature has not yet been implemented.

Other features I hope to implement in the future include an artificial intelligence, combo attacks, and graphics.  An artificial intelligence can make an RPG more difficult since it allows the player to play against opponents that are evenly matched as far as strategy is concerned.  Combo attacks, the defining feature of Chrono Trigger, do not seem that difficult to implement and add a whole new dynamic to game play.  Graphics were not implemented in this version of the battle system because I wanted to focus on building the inner workings of the battle system rather than spending a great deal of my time learning to program animations.  Graphics are also inconsistent across platforms when programmed in C++.

### Conclusion ###

It is possible for an amateur to program a battle system for an RPG; however, he or she can only hope to accomplish a basic system without investing vast amounts of time and energy in the project.  This thesis has expanded my understanding, both through research and through experience, of the amount of work that goes into making a good video game.  It has also showed me how to apply programming techniques to a given situation.  While this thesis has not broken new ground in the video game field, it has helped me learn more about the aspects of what was once only a hobby to me.

Video games are developed by teams of people, often with budgets and schedules comparable to a film released to theaters.  RPGs must be approached from several directions, including story line, music, graphics, and programming, in order to produce a complete work.  The resulting game is often described as a “playable movie,” a creative work where the viewer is forced to interact with the world and make decisions that could change the plot of the story.  The large amount of work involved requires many people; one programmer alone cannot make an RPG in a reasonable amount of time.

Object-oriented programming is still a relatively new way to look at programming.  The ability to model real-world objects inside a program is a powerful technique if used properly.  Through this thesis, I have learned both good and bad methods to object-oriented programming.  The inheritance feature provided a powerful method to insure different types of characters in the game retained certain similar qualities.  However, I went overboard on inheritance on at least one occasion, causing unnecessary complexity instead of removing it.

There may never be a use for this battle system except for entertainment.  The characters and situations modeled in this game center around a fantastic or futuristic setting and offer little application for the real world.  The artificial intelligence could be used to determine how certain people would react in a given situation, but using a game for this purpose is outside of the game’s intended purpose.  However, the desire to escape to another world is present in almost every human being.  This thesis began out of my desire to escape to a world where I controlled the plot.  I am dissatisfied with the RPGs available today, but now I know I can make my own.  I know it will take me several years working by myself, but I know that it is possible.

## Works Cited ##

- “Battle System Tutorial” TK Evolution.  18 Mar.  2003 n.pag.  <http://www.tkevolution.net/Features/bstutday1.htm>
- Cawsey, Alison.  The Essence of Artificial Intelligence.  Essence of Computing.  London: Prentice Hall, 1998.
- Cesarone, Bernard.  “Video Games and Children.” ERIC Digest 1994: n.pag.  AskERIC.  United States Department of Education.  12 December 2002.  <http://ericir.syr.edu/plweb-cgi/fastweb?getdoc+ericdb-adv+ericdb+1089533+0+wAAA+%28ED365477%29%26%3AERIC_No>
- Chrono Trigger. Dir. Takashi Tokita, Yoshinori Kitase, Akihiko Matsui. Square Electronic Arts LLC, 2001
- Crawford, Chris.  The Art of Computer Game Design.  Berkeley, CA: Osborne/McGraw-Hill, 1984.
- Crosby, Olivia.  “Working so others can play: Jobs in video game development.” Occupational Outlook Quarterly 44.2 (2000): 2.  Expanded Academic ASAP.  Infotrac, Charleston County Public Library.  Gale Group.  12 December 2002.  <http://infotrac.galegroup.com/itweb/chascol?db=EAIM>
- Davidson, James Duncan, and Apple Computer, Inc.  Learning Cocoa with Objective-C.  Ed.  2.  Sebastopol, CA: O’Reilly & Associates, Inc, 2001.
- Deitel, H.  M., and P.  J.  Deitel.  C++ How to Program.  Ed.  2.  Upper Saddle River, NJ: Prentice Hall, 1998.
- DiBona, Chris, Sam Ockman, and Mark Stone, ed.  Open Sources: Voices from the Open Source Revolution.  Sebastopol, CA: O’Reilly & Associates, 1999.
- Final Fantasy Tactics. Dir. Yasumi Matsuno. Sony Computer Entertainment America, 1997/1998.
- Final Fantasy VII. Dir. Yoshinori Kitase. Sony Computer Entertainment America, 1997.
- Final Fantasy VIII. Dir. Yoshinori Kitase. Square Electronic Arts LLC, 1999.
- Gonzalez, Mario, and Kay Robbins.  Pascal, Programming, and Problem Solving.  New York, NY: Holt, Rinehart and Winston, 1988.
- Hubbard, John R.  Programming with C++, Second Edition.  Schaum’s Outline Series.  New York, NY: McGraw-Hill, 2000.
- King, K.  N.  Java Programming: From the Beginning.  New York, NY: W.  W.  Norton & Company, 2000.
- Lemay, Laura.  Sams’ Teach Yourself Perl in 21 Days.  Indianapolis, ID: Sams Publishing, 1999.
- Logsdon, Thomas S.  Basic Programming with Structure and Style.  Boston, MA: Boyd & Fraser Publishing Company, 1985.
- Lunar Legend. Producer Frank Hom. Ubi Soft Entertainment, 2002.
- Maher, Kathleen.  “The Hard Work of Game Play.” Software Development August 1999.  Software Development Online.  CMP Media LLC.  9 December 2002.  <http://www.sdmagazine.com/documents/s=755/sdm9908g/9908g.htm>
- Wall, Larry.  “Diligence, Patience, and Humility.” DiBona 127-148.
- Walnum, Clayton.  Sams’ Teach Yourself Game Programming with Visual Basic in 21 Days.  Indianapolis, ID: Sams Publishing, 2001.
- Wessel, Craig.  A Parent’s Guide to Playstation Games.  Los Angeles, CA: Mars Publishing, 2000.
- Zhang, Tony.  Sams’ Teach Yourself C in 24 hours.  Indianapolis, ID: Sams Publishing, 1997.

## Acknowledgements ##

I would like to thank Wendy P and Lee W for volunteering their time for this project.  Thanks to my programming friends for helping me plow through several design and error questions.  I would also like to thank my gaming friends for helping me complete my methodology, specifically Rebecca G for loaning me Chrono Trigger.  Thanks to my family and friends for supporting me and listening politely while I complained about the various problems I was having.  Finally, thanks to God for giving me a love of programming and surrounding me with wonderful people.